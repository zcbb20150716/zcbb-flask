{% extends 'base.html' %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block content %}
    {{ super() }}
<ol class="breadcrumb">
    <li><a href="/center">Home</a></li>
    <li class="active">Testing</li>
</ol>
<span>服务器get请求</span><button id="a">Get- zcbb </button><br><br>
<span>服务器post请求</span><button id="b">Post-zcbb</button>
<script>
function dataURLtoBlob(dataurl) {
    var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],
        bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);
    while(n--){
        u8arr[n] = bstr.charCodeAt(n);
    }
    return new Blob([u8arr], {type:mime});
};
var blob = dataURLtoBlob('data:text/plain;base64,YWFhYWFhYQ=='); /* blob url */
var test1 = document.querySelector('#a');
var test2 = document.querySelector('#b');
test1.addEventListener('click',function(){
                    $.get("http://zcbb.natapp4.cc/center/test");
                });
var formData = new FormData();
formData.append("data", blob);
formData.append("size", blob.size)
test2.addEventListener('click',function(){
                     $.ajax({
						 type:"POST",
						 url:"http://zcbb.natapp4.cc/center/test2",
						 processData: false,
						 contentType: false,
						 data: formData
					 });
                });
</script>
{% endblock %}